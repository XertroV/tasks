---
id: P48.M3.E6.T002
title: 'Unit tests: LspTransport, LspServerLifecycle, LspClient, LspRegistry, LspTool'
status: done
estimate_hours: 2.0
complexity: medium
priority: high
depends_on: []
tags: []
claimed_by: cli-user
claimed_at: '2026-02-20T09:06:33.172069+00:00'
started_at: '2026-02-20T09:06:33.172069+00:00'
completed_at: '2026-02-20T09:43:23.456888+00:00'
duration_minutes: 36.83808011666667
---
LspTransport: Content-Length framing (partial reads, multiple messages in one Port data event), request/response correlation, notification dispatch, server-request handling, timeout. LspServerLifecycle: initialize/initialized handshake, shutdown sequence, capability capture. LspClient: diagnostics caching, file sync, all 7 operations, broken state. LspRegistry: register/lookup/auto-unregister/list. LspTool: all action dispatches, error messages, schema validation.