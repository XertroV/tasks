---
id: P39.M1.E1.T001
title: Rename remote_agent_spawn to ssh_tunnel_open
status: done
estimate_hours: 1.0
complexity: low
priority: medium
depends_on: []
tags:
- ssh
- cleanup
- rename
claimed_by: cli-user
claimed_at: '2026-02-19T11:28:22.444944+00:00'
started_at: '2026-02-19T11:28:22.444944+00:00'
completed_at: '2026-02-19T11:31:52.868589+00:00'
duration_minutes: 3.5070605833333333
---
Rename the incomplete remote_agent_spawn MCP tool to ssh_tunnel_open to accurately reflect what it does (opens an SSH port-forward tunnel, does NOT spawn a remote agent).

## Files to modify
- lib/pag_server/ssh/remote_agent_tool.ex — rename tool definition from 'remote_agent_spawn' to 'ssh_tunnel_open', update description, add comment explaining the rename
- plugins/ssh_agent/plugin.json — update capabilities.tools list
- plugins/ssh_agent/lib/ssh_plugin.ex — update description if it mentions remote agent spawning

## Comment to add
Add near the tool definition: '# Formerly "remote_agent_spawn" — renamed because it only establishes an SSH tunnel (port forward), it does not spawn a remote agent. Remote agent execution is handled by the pag-connect companion protocol (see docs/plans/2026-02-19-pag-connect-companion-app-plan.md).'

## Acceptance criteria
- [ ] Tool name is 'ssh_tunnel_open' everywhere (definition, plugin.json, tests)
- [ ] Explanatory comment about the rename is present
- [ ] Tool description accurately says 'Opens an SSH port-forward tunnel to a remote host'
- [ ] mix test.ssh passes (or relevant SSH tests pass)
- [ ] mix lint passes