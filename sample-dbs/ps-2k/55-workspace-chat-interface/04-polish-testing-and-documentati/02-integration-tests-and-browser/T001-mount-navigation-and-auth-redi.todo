---
id: P55.M4.E2.T001
title: Mount, navigation, and auth redirect tests
status: done
estimate_hours: 2.0
complexity: medium
priority: high
depends_on: []
tags:
- tests
- liveview
claimed_by: cli-user
claimed_at: '2026-02-22T12:14:24.602180+00:00'
started_at: '2026-02-22T12:14:24.602180+00:00'
completed_at: '2026-02-22T12:33:14.667761+00:00'
duration_minutes: 18.834426133333334
---
Create test/pag_server_web/live/workspace_chat_test.exs using PagServerWeb.ConnCase + Phoenix.LiveViewTest. Test: mount with workspace_id shows threads, mount with session_id shows messages, unauthenticated access redirects to login, invalid workspace_id shows error, thread selection updates URL via push_patch, create new thread adds to sidebar and navigates, search filtering works.

## Acceptance Criteria
- Mount tests pass for both URL patterns
- Auth redirect tested
- Thread selection navigation tested
- New thread creation tested
- Search filtering tested
- All tests async: true