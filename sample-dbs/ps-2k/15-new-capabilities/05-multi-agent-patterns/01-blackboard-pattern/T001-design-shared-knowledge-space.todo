---
id: P15.M5.E1.T001
title: Design shared knowledge space
status: done
estimate_hours: 1.0
complexity: medium
priority: medium
depends_on: []
tags: []
claimed_by: cli-user
claimed_at: '2026-02-13T16:34:43.336167+00:00'
started_at: '2026-02-13T16:34:43.336167+00:00'
completed_at: '2026-02-13T16:56:23.866653+00:00'
duration_minutes: 21.675507933333332
---

# Design shared knowledge space

## Description
Design the data model for a shared knowledge space (blackboard) where multiple agents can read and write information. Define knowledge entry types, access control, and conflict resolution strategies.

## Acceptance Criteria
- [ ] Create `PagServer.Schema.BlackboardEntry` with fields: workspace_id, key, value, type, owner_agent_id, version, metadata
- [ ] Define entry types: fact, hypothesis, solution, constraint
- [ ] Add optimistic locking with version field
- [ ] Design conflict resolution: last-write-wins, merge, or manual
- [ ] Add entry expiration/TTL support
- [ ] Include provenance tracking (who wrote what, when)
- [ ] Database migration created and tested
- [ ] Tests pass
- [ ] Lint passes

## Context
- Related files: `lib/pag_server/schema/workspace.ex`, `lib/pag_server/schema/agent.ex`, `lib/pag_server/schema/memory.ex`
- Part of epic: Blackboard Pattern
- Reference Memory schema for similar patterns


## Sibling Batch Instructions

**Batch mode**: siblings (same epic: P15.M5.E1)
**Agent**: cli-user
**Date**: 2026-02-13 16:34 UTC
**Sibling tasks**: P15.M5.E1.T002, P15.M5.E1.T003

**Instructions**:
This task is part of a sibling batch from the same epic.
Spawn ONE subagent to implement ALL sibling tasks sequentially.
Work through tasks in order: P15.M5.E1.T001 → P15.M5.E1.T002 → P15.M5.E1.T003
Mark each done individually after completion.

**Task files**:
- P15.M5.E1.T001: .tasks/15-new-capabilities/05-multi-agent-patterns/01-blackboard-pattern/T001-design-shared-knowledge-space.todo
- P15.M5.E1.T002: .tasks/15-new-capabilities/05-multi-agent-patterns/01-blackboard-pattern/T002-implement-blackboard-genserver.todo
- P15.M5.E1.T003: .tasks/15-new-capabilities/05-multi-agent-patterns/01-blackboard-pattern/T003-add-agent-subscription-to-blac.todo
